# Evergreen Completion Log â€” `stacks-receipt-of-life`

- Timestamp: `20260125-030713`
- Branch: `january-2026-evergreening`
- Repo: `https://github.com/myreceiptt/stacks-receipt-of-life.git`
- Live URL: `https://stacks.endhonesa.com/`

## Classification

- Class A â€” App Repo (monorepo: `web/` app + `backend/` scripts/tests).

## Summary

- Updated dependencies to latest stable within policy (Node **24.x**, npm **11.x**).
- `backend/`: `npm test` OK; `npm audit --audit-level=moderate` reports **0 vulnerabilities** after updates.
- `web/`: `npm run lint` OK; `npm run build` OK; `npm audit --audit-level=moderate` reports **13 vulnerabilities (5 high)**; fixes are unavailable or require breaking changes (deferred per Evergreen rules; see audit report in log).


## backend/

### Commands Run

```bash
node -v: v24.13.0
npm -v: 11.7.0
npm install

up to date, audited 140 packages in 754ms

31 packages are looking for funding
  run `npm fund` for details

1 moderate severity vulnerability

To address all issues, run:
  npm audit fix

Run `npm audit` for details.

npm update

changed 11 packages, and audited 140 packages in 13s

31 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

npm audit --audit-level=moderate
found 0 vulnerabilities

npm test

> backend-tests@2.0.0 test
> vitest run


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/nota/Documents/EVERGREENING/stacks-receipt-of-life/backend[39m

The Vitest environment clarinet defines the "transformMode". This options was deprecated in Vitest 4 and will be removed in the next major version. Please, use "viteEnvironment" instead.
[90mstdout[2m | tests/receipt-of-life.test.ts[2m > [22m[2mreceipt-of-life[2m > [22m[2msubmit-receipt: self-stamp, pays stamp fee, stores receipt #1
[22m[39m{ created-at: u1769286470, creator: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK, id: u1, kind: "receipt-submitted", owner: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK, royalty-recipient: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK } (receipt-of-life:77)

[90mstdout[2m | tests/receipt-of-life.test.ts[2m > [22m[2mreceipt-of-life[2m > [22m[2msubmit-receipt-for: stamps for another owner, pays stamp fee, stores receipt #1
[22m[39m{ created-at: u1769286470, creator: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK, id: u1, kind: "receipt-submitted", owner: 'ST2BXYHE8GG3D713TY21QWNP79232SCMFKGZYNT81, royalty-recipient: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK } (receipt-of-life:77)

[90mstdout[2m | tests/receipt-of-life.test.ts[2m > [22m[2mreceipt-of-life[2m > [22m[2mtransfer-receipt: owner transfers #2 to wallet3, pays royalty to royalty-recipient (creator)
[22m[39m{ created-at: u1769286470, creator: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK, id: u1, kind: "receipt-submitted", owner: 'ST2BXYHE8GG3D713TY21QWNP79232SCMFKGZYNT81, royalty-recipient: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK } (receipt-of-life:77)
{ from: 'ST2BXYHE8GG3D713TY21QWNP79232SCMFKGZYNT81, id: u1, kind: "receipt-transferred", royalty-to: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK, to: 'ST1PGN9MZTKZ2TVBSJXJNAY4P7PCMJQMA9TS115N } (receipt-of-life:120)

[90mstdout[2m | tests/receipt-of-life.test.ts[2m > [22m[2mreceipt-of-life[2m > [22m[2mset-receipt-royalty-recipient: creator changes royalty-recipient for #2
[22m[39m{ created-at: u1769286470, creator: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK, id: u1, kind: "receipt-submitted", owner: 'ST2BXYHE8GG3D713TY21QWNP79232SCMFKGZYNT81, royalty-recipient: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK } (receipt-of-life:77)
{ from: 'ST2BXYHE8GG3D713TY21QWNP79232SCMFKGZYNT81, id: u1, kind: "receipt-transferred", royalty-to: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK, to: 'ST1PGN9MZTKZ2TVBSJXJNAY4P7PCMJQMA9TS115N } (receipt-of-life:120)
{ creator: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK, id: u1, kind: "receipt-royalty-updated", new-recipient: 'ST1PGN9MZTKZ2TVBSJXJNAY4P7PCMJQMA9TS115N } (receipt-of-life:148)

[90mstdout[2m | tests/receipt-of-life.test.ts[2m > [22m[2mreceipt-of-life[2m > [22m[2mtransfer-receipt after royalty change: owner pays royalty to new recipient
[22m[39m{ created-at: u1769286470, creator: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK, id: u1, kind: "receipt-submitted", owner: 'ST2BXYHE8GG3D713TY21QWNP79232SCMFKGZYNT81, royalty-recipient: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK } (receipt-of-life:77)
{ creator: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK, id: u1, kind: "receipt-royalty-updated", new-recipient: 'ST1PGN9MZTKZ2TVBSJXJNAY4P7PCMJQMA9TS115N } (receipt-of-life:148)
{ from: 'ST2BXYHE8GG3D713TY21QWNP79232SCMFKGZYNT81, id: u1, kind: "receipt-transferred", royalty-to: 'ST1PGN9MZTKZ2TVBSJXJNAY4P7PCMJQMA9TS115N, to: 'STPQRWQMH3FJQWSVK5BKE0K6S00GEAZJH73B77JK } (receipt-of-life:120)

 [32mâœ“[39m tests/receipt-of-life.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 73[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m6 passed[39m[22m[90m (6)[39m
[2m   Start at [22m 03:07:29
[2m   Duration [22m 766ms[2m (transform 27ms, setup 27ms, import 6ms, tests 73ms, environment 562ms)[22m

```

## web/

### Commands Run

```bash
node -v: v24.13.0
npm -v: 11.7.0
npm install

up to date, audited 830 packages in 9s

191 packages are looking for funding
  run `npm fund` for details

14 vulnerabilities (8 low, 1 moderate, 5 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.

npm update

changed 28 packages, and audited 830 packages in 2m

191 packages are looking for funding
  run `npm fund` for details

13 vulnerabilities (8 low, 5 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.

npm audit --audit-level=moderate
# npm audit report

axios  1.0.0 - 1.11.0
Severity: high
Axios is vulnerable to DoS attack through lack of data size check - https://github.com/advisories/GHSA-4hjh-wcwx-xvwj
No fix available
node_modules/@sats-connect/core/node_modules/axios
  @sats-connect/core  0.0.3-194d10e - 0.0.3-f7e8b0c || 0.0.4-792827d - 0.14.0
  Depends on vulnerable versions of axios
  Depends on vulnerable versions of valibot
  node_modules/@sats-connect/core
    sats-connect  2.1.0-7045704 - 2.1.0-deb83f5 || 2.1.1-21e9e58 - 4.1.1-f1c7d3d
    Depends on vulnerable versions of @sats-connect/core
    node_modules/sats-connect
      @reown/appkit-adapter-bitcoin  *
      Depends on vulnerable versions of sats-connect
      node_modules/@reown/appkit-adapter-bitcoin

elliptic  *
Elliptic Uses a Cryptographic Primitive with a Risky Implementation - https://github.com/advisories/GHSA-848j-6mx2-7j84
fix available via `npm audit fix --force`
Will install @stacks/connect@8.1.9, which is a breaking change
node_modules/elliptic
  bip322-js  *
  Depends on vulnerable versions of bitcoinjs-message
  Depends on vulnerable versions of elliptic
  Depends on vulnerable versions of secp256k1
  node_modules/bip322-js
    @reown/appkit-siwx  >=1.5.4-9e1e4c9ac.rc.0.0
    Depends on vulnerable versions of bip322-js
    node_modules/@reown/appkit-siwx
      @reown/appkit  1.7.17-0ab58024a93a4b94912ebf6f5474cbab84441609.0 - 1.7.20-383a44200944581d0bcb451073c26f541fe7a4c9.0
      Depends on vulnerable versions of @reown/appkit-siwx
      node_modules/@stacks/connect/node_modules/@reown/appkit
        @reown/appkit-universal-connector  <=1.7.20-turbo-fix.0
        Depends on vulnerable versions of @reown/appkit
        node_modules/@stacks/connect/node_modules/@reown/appkit-universal-connector
        @stacks/connect  >=8.1.10-alpha.1559549.0
        Depends on vulnerable versions of @reown/appkit
        Depends on vulnerable versions of @reown/appkit-universal-connector
        node_modules/@stacks/connect
  secp256k1  >=2.0.0
  Depends on vulnerable versions of elliptic
  node_modules/bitcoinjs-message/node_modules/secp256k1
  node_modules/secp256k1
    bitcoinjs-message  >=1.0.1
    Depends on vulnerable versions of secp256k1
    node_modules/bitcoinjs-message

valibot  0.31.0 - 1.1.0
Severity: high
Valibot has a ReDoS vulnerability in `EMOJI_REGEX` - https://github.com/advisories/GHSA-vqpr-j7v3-hqw9
No fix available
node_modules/valibot

13 vulnerabilities (8 low, 5 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

npm run lint

> web@7.4.74 lint
> eslint


npm run build

> web@7.4.74 build
> next build --webpack

â–² Next.js 16.1.4 (webpack)
- Environments: .env.local

  Creating an optimized production build ...
âœ“ Compiled successfully in 8.7s
  Running TypeScript ...
  Collecting page data using 9 workers ...
  Generating static pages using 9 workers (0/8) ...
  Generating static pages using 9 workers (2/8) 
  Generating static pages using 9 workers (4/8) 
  Generating static pages using 9 workers (6/8) 
âœ“ Generating static pages using 9 workers (8/8) in 318.1ms
  Finalizing page optimization ...
  Collecting build traces ...

Route (app)
â”Œ â—‹ /
â”œ â—‹ /_not-found
â”œ Æ’ /api/chainhooks-test
â”œ â—‹ /contract
â”œ â—‹ /me
â”” â—‹ /stamp


â—‹  (Static)   prerendered as static content
Æ’  (Dynamic)  server-rendered on demand

```

## Notes

- Node runtime policy: `>=24 <25` (repo engines + .nvmrc).
- Live URL check: pending manual verification by Prof. NOTA v11.11.
